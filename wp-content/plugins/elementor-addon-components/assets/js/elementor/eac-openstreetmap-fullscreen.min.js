/*!
* Based on package 'screenfull'
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
* Added definition for using screenfull as an amd module
* Must be placed before the definition of leaflet.fullscreen
* as it is required by that
*/
!function(e,n){"function"==typeof define&&define.amd?define("screenfull",n):"object"==typeof module&&module.exports?module.exports.screenfull=n():e.screenfull=n()}("undefined"!=typeof self?self:this,(function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=function(){for(var n,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=0,i=l.length,s={};t<i;t++)if((n=l[t])&&n[1]in e){for(t=0;t<n.length;t++)s[l[0][t]]=n[t];return s}return!1}(),l={change:n.fullscreenchange,error:n.fullscreenerror},t={request:function(l,t){return new Promise(function(i,s){var r=function(){this.off("change",r),i()}.bind(this);this.on("change",r);var o=(l=l||e.documentElement)[n.requestFullscreen](t);o instanceof Promise&&o.then(r).catch(s)}.bind(this))},exit:function(){return new Promise(function(l,t){if(this.isFullscreen){var i=function(){this.off("change",i),l()}.bind(this);this.on("change",i);var s=e[n.exitFullscreen]();s instanceof Promise&&s.then(i).catch(t)}else l()}.bind(this))},toggle:function(e,n){return this.isFullscreen?this.exit():this.request(e,n)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(n,t){var i=l[n];i&&e.addEventListener(i,t,!1)},off:function(n,t){var i=l[n];i&&e.removeEventListener(i,t,!1)},raw:n};return n?(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),t):{isEnabled:!1}})),
/*!
* leaflet.fullscreen
*/
function(e,n){"function"==typeof define&&define.amd?define("leafletFullScreen",["leaflet","screenfull"],n):"object"==typeof module&&module.exports?module.exports=n(require("leaflet"),require("screenfull")):n(e.L,e.screenfull)}("undefined"!=typeof self?self:this,(function(e,n){"use strict";return e.Control.FullScreen=e.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:n,onAdd:function(n){var l,t="leaflet-control-zoom-fullscreen",i="";return l=n.zoomControl&&!this.options.forceSeparateButton?n.zoomControl._container:e.DomUtil.create("div","leaflet-bar"),this.options.content?i=this.options.content:t+=" fullscreen-icon",this._createButton(this.options.title,t,i,l,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),l},onRemove:function(){e.DomEvent.off(this.link,"click",e.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(e.DomEvent.off(this._container,this._screenfull.raw.fullscreenchange,e.DomEvent.stop).off(this._container,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this),e.DomEvent.off(document,this._screenfull.raw.fullscreenchange,e.DomEvent.stop).off(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this))},_createButton:function(n,l,t,i,s,r){return this.link=e.DomUtil.create("a",l,i),this.link.href="#",this.link.title=n,this.link.innerHTML=t,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",n),L.DomEvent.disableClickPropagation(i),e.DomEvent.on(this.link,"click",e.DomEvent.stop).on(this.link,"click",s,r),this._screenfull.isEnabled&&(e.DomEvent.on(i,this._screenfull.raw.fullscreenchange,e.DomEvent.stop).on(i,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,r),e.DomEvent.on(document,this._screenfull.raw.fullscreenchange,e.DomEvent.stop).on(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,r)),this.link},toggleFullScreen:function(){var n=this._map;n._exitFired=!1,n._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit():(e.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:n._container,"leaflet-pseudo-fullscreen"),n.invalidateSize()),n.fire("exitFullscreen"),n._exitFired=!0,n._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:n._container):(e.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:n._container,"leaflet-pseudo-fullscreen"),n.invalidateSize()),n.fire("enterFullscreen"),n._isFullscreen=!0)},_toggleState:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?this.link.setAttribute("aria-label",this.options.title):this.link.setAttribute("aria-label",this.options.titleCancel),this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange:function(){var e=this._map;e.invalidateSize(),this._screenfull.isFullscreen||e._exitFired||(e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1)}}),e.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),e.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(e.control.fullscreen(this.options.fullscreenControlOptions))})),e.control.fullscreen=function(n){return new e.Control.FullScreen(n)},{leaflet:e,screenfull:n}}));