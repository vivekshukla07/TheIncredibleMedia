class widgetModalBox extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{targetWrapper:".mb-modalbox__wrapper"}}}getDefaultElements(){const e=this.getSettings("selectors");let t={$targetWrapper:this.$element.find(e.targetWrapper),settings:this.$element.find(e.targetWrapper).data("settings")};return t.$targetId=jQuery("#"+t.settings.data_id),t.$targetTrigger=t.$targetId.find("a.eac-accessible-link"),t.$targetHiddenContent=t.$targetId.find("#modalbox-hidden-"+t.settings.data_id),t.$fbButtonClose=t.$targetHiddenContent.find("#my-fb-button"),t.$targetCF7Div=t.$targetId.find("#modalbox-hidden-"+t.settings.data_id+" .wpcf7"),t.$targetCF7Form=t.$targetCF7Div.find(".wpcf7-form"),t.$targetCF7Response=t.$targetCF7Form.find(".wpcf7-response-output"),t.$targetForminatorForm=t.$targetId.find("#modalbox-hidden-"+t.settings.data_id+" div.mb-modalbox__hidden-content-body form.forminator-custom-form"),t.$targetForminatorField=t.$targetForminatorForm.find("div.forminator-field"),t.$targetForminatorError=t.$targetForminatorForm.find("span.forminator-error-message"),t.$targetForminatorResponse=t.$targetForminatorForm.find(".forminator-response-message"),t.$targetWPformsDiv=t.$targetId.find("#modalbox-hidden-"+t.settings.data_id+" .wpforms-container"),t.$targetWPFormsForm=t.$targetWPformsDiv.find(".wpforms-form"),t.$targetWPFormsFieldContainer=t.$targetWPFormsForm.find(".wpforms-field-container"),t.$targetMailpoetDiv=t.$targetId.find("#modalbox-hidden-"+t.settings.data_id+" .mailpoet_form"),t.$targetMailpoetForm=t.$targetMailpoetDiv.find("form.mailpoet_form"),t.$targetMailpoetPara=t.$targetMailpoetForm.find(".mailpoet_paragraph"),t.options={baseClass:"modal-"+t.settings.data_position,slideClass:t.settings.data_slideclass,smallBtn:!0,buttons:[""],autoFocus:!1,idleTime:!1,animationDuration:600,animationEffect:t.settings.data_effet,beforeLoad:(e,r)=>{t.$targetMailpoetDiv.length>0&&(t.$targetMailpoetForm.trigger("reset"),t.$targetMailpoetForm.find("p.mailpoet_validate_success").css("display","none"),t.$targetMailpoetForm.find("p.mailpoet_validate_error").css("display","none"),t.$targetMailpoetPara.find("ul.parsley-errors-list").remove()),t.$targetCF7Div.length>0&&(t.$targetCF7Form.trigger("reset"),t.$targetCF7Response.hide().empty().removeClass("wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-validation-errors wpcf7-spam-blocked eac-wpcf7-SUCCESS eac-wpcf7-FAILED"),t.$targetCF7Form.find("span.wpcf7-not-valid-tip").remove()),t.$targetWPformsDiv.length>0&&(t.$targetWPFormsForm.trigger("reset"),t.$targetWPFormsFieldContainer.find("div.wpforms-has-error").removeClass("wpforms-has-error"),t.$targetWPFormsFieldContainer.find("input.wpforms-error, textarea.wpforms-error").removeClass("wpforms-error"),t.$targetWPFormsFieldContainer.find("label.wpforms-error").remove()),t.$targetForminatorForm.length>0&&(t.$targetForminatorForm.trigger("reset"),t.$targetForminatorField.removeClass("forminator-has_error"),t.$targetForminatorError.remove())},afterLoad:(e,r)=>{t.$targetTrigger.attr("aria-expanded","true")},beforeShow:(e,r)=>{if(jQuery("body.fancybox-active").css({overflow:"hidden"}),!t.settings.data_modal){const t=jQuery(r.src).outerWidth(),a=r.$slide.outerWidth(),o=r.$slide.width();e.$refs.container.width(t+(a-o)),e.$refs.container.height(jQuery(r.src).outerHeight()+(r.$slide.outerHeight()-r.$slide.height()))}},afterClose:()=>{t.$targetTrigger.attr("aria-expanded","false"),jQuery("body.fancybox-active").css({overflow:""})},clickContent:(e,t)=>{}},t.optionsNoModal={baseClass:"mb-modalbox_no-modal no-modal_"+t.settings.data_position,hideScrollbar:!1,clickSlide:"close",touch:!1,backFocus:!1},t}onInit(){super.onInit(),this.elements.settings.data_modal||jQuery.extend(this.elements.options,this.elements.optionsNoModal),jQuery("[data-fancybox]",this.elements.$targetId).fancybox(this.elements.options),("pageloaded"===this.elements.settings.data_trigger&&elementorFrontend.isEditMode()&&this.elements.settings.data_active||"pageloaded"===this.elements.settings.data_trigger&&!elementorFrontend.isEditMode())&&setTimeout((()=>{jQuery.fancybox.open([{src:this.elements.$targetHiddenContent,type:"inline",opts:this.elements.options}])}),1e3*this.elements.settings.data_delay)}bindEvents(){this.elements.$targetCF7Div.length>0&&(this.elements.$targetCF7Div.on("wpcf7invalid wpcf7spam wpcf7mailfailed",(()=>{this.elements.$targetCF7Response.addClass("eac-wpcf7-FAILED")})),this.elements.$targetCF7Div.on("wpcf7mailsent",(()=>{this.elements.$targetCF7Response.addClass("eac-wpcf7-SUCCESS"),setTimeout((()=>{jQuery.fancybox.close(!0)}),3e3)}))),this.elements.$fbButtonClose.on("click touch",(e=>{e.preventDefault(),jQuery.fancybox.close(!0)}))}}jQuery(window).on("elementor/frontend/init",(()=>{elementorFrontend.hooks.addAction("frontend/element_ready/eac-addon-modal-box.default",(e=>{elementorFrontend.elementsHandler.addHandler(widgetModalBox,{$element:e})}))}));