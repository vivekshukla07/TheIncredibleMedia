!function(e){"use strict";e(document).ready((function(){(function(){e(".menu-item_button").on("click",(function(t){t.preventDefault();var n=e(t.currentTarget).attr("data-id"),a=e(t.currentTarget).attr("data-title");e.fancybox.open([{type:"ajax",src:menu.ajax_content+n,opts:{smallBtn:!0,buttons:[""],toolbar:!1,width:680,height:610,afterLoad:function(t,n){e(n.$content).find("form");e(".menu-item_badge-color-picker").wpColorPicker(),e(".menu-item_badge-background-picker").wpColorPicker(),e(".menu-item_icon-picker").fontIconPicker({source:EacIconLists,emptyIcon:!0,hasSearch:!0,theme:"fip-grey"}),e(".eac-form_menu-post-title").text(a),e("#eac-form_menu-settings").on("submit",(function(t){t.preventDefault(),e.ajax({url:menu.ajax_url,type:"post",data:{action:menu.ajax_action,nonce:menu.ajax_nonce,fields:e("#eac-form_menu-settings").serialize()}}).done((function(t){!1===t.success?(e("#eac-menu-notsaved").text(t.data),e("#eac-menu-notsaved").css("display","block")):(e("#eac-menu-saved").text(t.data),e("#eac-menu-saved").css("display","block")),setTimeout((function(){e("#eac-menu-notsaved").css("display","none"),e("#eac-menu-saved").css("display","none")}),2e3)}))})),e(".menu-item_image-add-button").on("click",(function(t){t.preventDefault();var n=wp.media({title:"Select or Upload Image",multiple:!1,button:{text:"Use this media"},library:{orderby:"date",query:!0,type:"image"}}).open().on("select",(function(t){var a=n.state().get("selection").first().toJSON().url;e(".menu-item_image-picker").val(a)}))})),e(".menu-item_image-remove-button").on("click",(function(t){t.preventDefault(),e(".menu-item_image-picker").val("")}))},afterClose:function(){e("#eac-form_menu-settings").off("submit"),e(".menu-item_badge").add(".menu-item_badge-color-picker").add(".menu-item_icon-picker").add(".menu-item_badge-background-picker").add(".menu-item_image-add-button").add(".menu-item_image-remove-button").off("click")}}}])}))})()}))}(jQuery);